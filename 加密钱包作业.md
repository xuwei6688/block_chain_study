# 加密钱包的使用
对于资产的管理，最开始接触加密世界的用户，大多第一个使用的是某个交易所。对于自己管理资产这事，在前几年还是很少人做。毕竟放钱包里能做的事也不是很多。加上对丢失资产的恐惧，大多用户选择将资产放在交易所。
从前几年DeFi的流行开始，到今年NFT、DAO等WEB3应用的爆发，将资产放在钱包里是一个非常大的刚需。在交易所里，大多能做的只是单纯的交易。而放在钱包里，能做的事情更多。
本篇将介绍加密钱包的类型，如何管理钱包和在不同钱包以及交易所间转移代币。
**在真正自己掌握钱包并使用之前，建议用户要多学习钱包的基本原理和安全风险，避免造成个人资产的损失。个人使用钱包，就意味着资产完全由自己掌握，一些不当的操作或者隐藏的风险，都可能导致资产的丢失。案例数不胜数。**
# 钱包的分类
### 从是否掌握助记词或私钥的角度，一般分为：
- 托管型钱包：用户不掌握助记词或私钥。可以认为交易所就是托管型钱包，用户资产都在交易所。还有一些APP也是托管型，比如argent。
- 非托管型钱包：用户自己掌握助记词或私钥的钱包。大部分钱包的助记词是通用的，可以互相导入。私钥是完全通用的。Metamask（小狐狸）钱包是最常用的非托管型钱包。
### 从对助记词或私钥的使用方式来区分，一般又会分为：
- 冷钱包：助记词或私钥不触网，在一个离线的设备中存储。交易通过扫码签名等方式进行。冷存储也被视为相对最安全的一种加密资产保管方式。冷钱包可以是硬件钱包、APP应用或纸张等存储方式。
- 热钱包：助记词或私钥会触网，如果存储的设备被黑，有资产被盗风险。手机应用钱包、浏览器插件钱包大多是热钱包。
- 硬件钱包：将助记词和私钥存储在专属硬件中加密，交易签名在硬件中确认。可以保证助记词和私钥不被直接盗取。但也存在交易过程被攻击的风险。
### DeFi中常用的钱包使用方式搭配：
- Metamask浏览器插件+硬件钱包（Ledger、Trezor、Onekey等），Metamask创建一个账号，但不直接使用这个账号。链接硬件钱包使用，这样助记词和私钥在硬件中，相对安全。
- 手机钱包应用。Argent等带社交恢复功能的手机钱包、TokenPocket等手机钱包，存储加密资产方便，但对DeFi的支持要明显延后。
### 加密钱包的基本概念构成
我们一般经常会说加密钱包，其实一个加密钱包是由很多零部件组成的，通常包括：钱包账号、公钥地址（账户）、区块链网络、基础代币、合约代币、发送/接收、交易、应用等部分。
### 钱包账号
**钱包账号是钱包应用的身份认证主体。账号丢失意味着资产的丢失**
对于托管型钱包来说，它一般由邮箱/手机号/用户名+密码组成，与一般的应用使用方式没有太大差异。
对于非托管型钱包来说，钱包账号就是助记词，一般由12/24个英文单词组成。在不同钱包间，助记词大多情况下是通用的。也就是说在A钱包生成的助记词，导入B钱包后依然可以使用，可以在B中控制自己的资产。
一个钱包账户可以生成很多不同的账户（公钥地址），这些账户可以位于不同的网络。表现在交易所中，就是会有不同网络的资产。表现在非托管钱包中，就是不同网络切换后的资产。
### 账户（公钥地址）
**账户（公钥地址）是个人链上资产存储的主体**。所有的代币最终都会关联到具体的账户地址上，所有交易的主体也是账户地址。一个钱包账号在不同网络上可以生成无数的账户地址，比如以太坊网络账户地址以0x开头、Terra网络的账户地址以terra开头，**不同网络的地址间无法直接转账**。
对于托管型钱包，个人账户地址不受控，一般只作为充提币的地址，不能用于其他应用，一旦应用可能会导致充到里面的代币无法找回。
对于非托管钱包，账户（公钥地址）对应的就是私钥。1个私钥地址对应一个公钥地址，这是由非常安全的加密算法计算的，目前的技术无法破解。掌握私钥，就掌握了对应公钥地址中资产的操作权限。
**私钥是账户（公钥地址）的钥匙，助记词是账号（钱包应用）的钥匙，这2个一定不能在web站点输入。Not Your Keys, Not Your Coins.**
### 关于钱包账号和账户（公钥地址）的粗浅类比
对应到一个银行应用，用户注册时会有一个账号和密码，用于登录银行应用。登录后会有不同的账户，比如储蓄账户、信用卡账户、理财账户等等。这里登录银行应用的账号就是加密钱包的钱包账号（助记词），储蓄账户对应的就是账户（公钥地址）。
拿Metamask的浏览器插件钱包举例，当我们新建一个Metamask钱包时，会记录一组助记词，创建成功后这就是一个钱包账号。当我们点击“创建账户”功能后，会新添加一个AcountX的账户，这个就是Metamask账号自带的账户地址，可以无线的增加。
同时我们还可以添加外部账户，我们点击“导入账户”，可以通过输入私钥的方式将其他外部账户导入。可以发现，这里就无法导入助记词，因为助记词是最顶层账号的载体，无法互相嵌套。我们还可以链接硬件钱包，这时候也会加载位于硬件钱包中的账号，通过选择也可以添加到metamask中使用。
### 区块链网络&基础代币&合约代币
我们常听到的，像Bitcoin（比特币网络）、Ethereum（以太坊网络）、BSC（币安智能链）、Solana等都是不同的区块链网络。所有的加密资产都是运行在这些区块链网络上。不同的网络有不同的基础代币。
Bitcoin的基础代币是BTC、Ethereum的基础代币是ETH、BSC是BNB、Solana是sol。这些基础代币是作为网络的最基础资产运行的，它们被不同网络用于支付网络费用。
几乎每一个独立的区块链网络，都会对应一个基础代币，像AVAX、Terra、Loopring等。
我们常听到的，像USDT、USDC、DAI、UNI等是ERC20合约代币，它们是通过以太坊合约来控制的，有别于基础代币，他们具有可编程性。
合约代币其实非常复杂，有各种不同的分类，背后也有不同的资产或规则支撑，后面会写单独的教程对这部分内容进行介绍。
基础代币只有在本网络运行是最安全的，在其他网络上的基础代币通常是被包装后的代币。比如BTC在以太坊上的包装wBTC，它是通过第三方通过在Bitcoin网络锁定等同数量的BTC，然后在以太坊发行的合约代币。如果第三方资产管理出现问题，wBTC的价值就会偏离BTC。
**不同网络间无法直接发送代币，必须通过跨链桥、交易所等第三方设施进行中转**。
同一个账户地址，可以被用于相同类型的网络管理资产，比如EVM兼容链（以太坊、BSC、Polygon、L2等）都可以使用0x开头的地址进行资产管理。但位于不同网络的资产间，是相互独立的。它们的关系是“网络-账户-代币”，只有这3者对应起来，才能确定一个资产的归属。
**理解以上概念后，我们就清楚为什么每次在交易所充提币时，都会让选择不同的网络。**
### 基本的常识
**1、每个钱包都需要有基础代币用于支付网络手续费**
以太坊网络需要有ETH、BSC网络需要有BNB、Polygon网络需要有MATIC、Terra网络需要有UST、Bitcoin网络需要有BTC。经常有用户发现提币后无法交易，是因为忘了给账户存基础代币。
**2、不同网络间无法直接转账**
以太坊网络的代币无法转给BSC，不同网络间进行代币转移需要跨链桥或交易所中转。
**3、在钱包应用中看不到资产，不代表资产不见了**
有些不常用的代币，无法自动在钱包应用中显示。我们只需要找到代币的合约地址，在钱包中添加自定义代币，即可查看到相关资产。
**4、交易是无法回滚的**
去中心化的区块链网络（公链）上发生的交易，基本是无法回滚的。因此在进行交易前，要确定是否是自己的真实意图和确定的交易地址。避免操作错误导致资产丢失。
**5、不要给合约地址直接转账**
很多17年爱西欧遗留的操作习惯，习惯给合约地址直接转账。这种操作方式在当下绝大多数情况都会导致资产丢失。
**6、常用地址存通讯录，避免复制粘贴**
常用的转账地址存到通讯录，避免每次复制粘贴。确认交易前再三核对地址，避免转错地址。
### 个人加密钱包使用的一般步骤
最开始我也是把资产放在交易所，后来因为担心交易所倒闭，把币提到了个人钱包。在这个过程中，内心也是比较担忧，害怕各种问题导致资金丢失。
一般个人掌握资产都有一个心理建设过程。按照我个人的经历，给出一个大概的过程建议：
- 在0资产情况下先熟悉各种钱包应用，metamask、手机钱包、硬件钱包等。
- 可以在一个应用建账号，在另一个恢复，看地址是否相同。这算是做一个多路备份。
- 确保熟悉各种操作后，进行小额资金的转入。然后做一些转账练习。关键是养成好的安全习惯。
- 慢慢增加金额，做好各类密码备份。进行一些恢复的演练，确保方案的可靠。
- 随着操作时间的增多，慢慢的会建立很好的信心。同时应该一直保持安全习惯的执行，不能麻痹大意。
# 加密钱包的选择 以及Metamask的使用
**对于加密新人，安装一个Metamask钱包，是接触加密世界最直观的方式。**不需要存任何资产在里面，也可以开启很多应用，目前很多web3应用，都只需要使用Metamask签名即可使用。
作为入圈第一站，也可以使用Metamask在测试网领取测试币学习如何使用钱包和各类应用。下面简单介绍Metamask的安装和使用。
### 加密钱包的选择
钱包一般分为托管类型和个人管理资产类型，区别就是是否掌握私钥。对于长期存储建议使用纯个人管理类型钱包。托管钱包只拿来作为临时使用和中转用途。
**1、冷钱包。钱包应用在创建和使用过程完全不联网，属于最安全的一类。** BTC冷钱包可以使用bither（比太），ETH冷钱包可以使用imtoken、EOS冷钱包可以使用tokenpocket。 冷钱包可以使用一个旧手机，格式化不root，先下载好对应软件，然后完全断网创建。 在自己用的手机上对应的需要建观察钱包，再实际交易时，两个手机互相扫码确认交易即可。
**2、硬件钱包。私钥/助记词存储在硬件中，使用时需要连接硬件设备。** Ledger和Trezor是使用最广的硬件钱包，国内的也有cobo、onekey、imkey。 硬件钱包一般有独立的APP和浏览器插件。建议使用Ledger或Trezor，搭配小狐狸浏览器插件使用，最方便。
**3、热钱包/软件钱包。直接在手机/浏览器插件使用的钱包。** metamask（小狐狸）、imtoken、tokenpocket等都是这类，金额不是很多，直接使用也相对安全。 需要注意的是，在创建钱包的各个过程中，不要联网、截屏、注意环境安全等。将助记词/私钥自己离线保管好。
**个人钱包的一般使用步骤：** 1、选择一个钱包方案，创建个人钱包 2、做好私钥备份，创建多个可用方案 3、提小量币到个人钱包，并在钱包间互转熟悉操作 4、在交易所多次充提币熟悉操作，并添加提币白名单 5、操作熟练后，可放小量币一两个月，期间可以每周转账熟悉 6、走一遍备份恢复过程，确保备用方案可用 7、走到这基本就有信心自己保管私钥和管理资产了
### Metamask钱包的安装与配置
1、打开chrome，开启梯子，访问metamask浏览器插件安装地址：https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn
2、点击“添加至Chrome”安装插件

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/1.jpg)

3、在弹出窗口中点击“添加扩展程序”

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/2.jpg)

4、安装完成后，默认会被隐藏，点击右上角拼图图标，点击metamask右侧固定按钮，将metamask固定至浏览器窗口，如下图：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/3.jpg)

5、点击小狐狸头像，打开钱包，出现如下图欢迎页面：
**注意：注意查看url地址，必须为chrome-extension://开头，如果是http:// 开头，很可能是钓鱼网站**

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/4.jpg)

**关于小狐狸钱包的安装相关安全提醒：操作全过程，关闭所有其他软件，切换为系统自带输入法，关闭网络，不要复制粘贴。**
6、点击“开始使用”，出现2个选项，一个是新建，一个是导入：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/5.jpg)

7、先说导入钱包（第8步讲新建钱包），选择导入，在出现页面阅读隐私政策，点击“不，谢谢”：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/6.jpg)

7.1、在“Secret Recovery Phrase”位置，输入之前备份的助记词，切记别复制粘贴，使用系统自带输入法输入！输入后设置钱包密码，点击“导入”完成操作。

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/7.jpg)

8、新建钱包，在上面第6步页面，选择“创建钱包”，在出现页面阅读隐私政策，点击“不，谢谢”

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/8.jpg)

8.1、在新页面设置钱包密码，点击“创建”，完成钱包创建：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/9.jpg)

8.2、观看metamask安全视频，以及右侧的安全提醒，点击“下一步”：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/10.jpg)

8.3、在出现的页面，点击“点击此处显示密语”，页面会显示一组助记词，请离线抄写好保存，这个是控制个人钱包唯一凭证，任何人拿到都可以控制钱包资产，因此要用最高安全级别保存，最好离线抄写。抄写后点击“下一步”，完成钱包创建。

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/11.jpg)

9、对于导入历史的钱包之前有多个地址的情况，可以通过多次点击钱包右上角图标，然后不断选择创建账号，来找回之前的多个地址，如下图：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/12.jpg)

# Metamask的网络配置
Metamask（小狐狸）钱包是目前应用范围最广泛地加密钱包，几乎全部以太坊和EVM兼容链的应用都支持metamask。因此，用户掌握小狐狸的使用非常有必要。
通过上一篇教程，用户基本可以清楚metamask的安装和钱包创建，本篇主要介绍metamask的网络配置、转账、常见问题处理、交易所充提等功能的使用。
### Metamask简介
Metamask钱包是加密货币钱包和区块链应用程序的认证程序。目前全球有超过2100万用户使用。
MetaMask的主要使用途径是浏览器扩展程序和手机APP，可提供加密钱包、安全登录、代币交换等功能。密码、助记词和私钥均在使用设备上生成，不会传输到服务器端。只有用户自己能访问本地账户和数据。
钱包建好后，使用钱包一般可分为以下几步：
- 1、配置网络
- 2、充提币
- 3、交易
- 4、应用交互
下面我们来具体将如何操作以上步骤。同时，接下来会针对不同区块链网络以实例化的方式，进行具体操作的演示。
### Metamask网络配置
对区块链网络的理解可参见，“区块链网络&基础代币&合约代币”章节。
简单说，不同的代币都是保存在不同网络上的。因此用户在充值时一定要选择正确的网络。目前常用的EVM兼容链网络包括ethereum（以太坊）、BSC（币安智能链）、polygon（matic）、Fantom（FTM）、avalanche（AVAX）等。只有这些链metamask钱包可以直接管理资产，像solana、terra等网络，需要其他的钱包，这些会在后面章节介绍。

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/13.jpg)

点击metamask右上角圆形钱包图标，点击settings（设置），点击Networks（网络），如上图，可看到metamask默认自带了5个网络配置。包括Ethereum Mainnet（以太网主网，正式使用的网络，基本所有交易都在这里）、Ropsten Test Network等4个测试网络（主要用于访问测试应用，一般情况不会使用。）
网络配置中每个字段的含义：
- Network Name：网络名称，便于区别不同网络，如果是自定义网络，建议直接使用网络名，如avax主网、ftm测试网等
- RPC URL：RPC消息服务器地址，告诉metamask钱包向哪发送交易请求，这个不同链都有固定的服务器
- Chain ID：链ID，用于签署交易，不同的链会有固定的ID，在获取网络配置时都会提供，不能乱写
- Currency Symbol：标识符，显示这个网络的基础代币，以太坊主网就是ETH、BSC网络是BNB、polygon网络是matic等
- Block Explorer URL：区块链浏览器，用于查看交易详情等
### 添加自定义网络
使用不同的公链应用会有不同的网络配置，metamask钱包需要切换到对应的网络配置才行。默认情况metamask只有以太坊主网配置，如果要使用BSC、polygon等网络，需要用户自行添加网络配置。
**一、自动添加自定义网络步骤：**
1、访问https://chainlist.org/

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/14.jpg)

2、网站右上角点击“connect wallet”

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/15.jpg)

3、在metamask弹出窗口点击“Next”

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/16.jpg)

4、再点击“connect”
5、在上方搜索要添加的网络名字，如BSC。查看搜索结果，这里有2个，其中第二个显示的是testnet，这个是测试网络，一般用不到

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/17.jpg)

6、点击第一个搜索结果“binance smart chain mainnet”下方的“Add To Metamask”按钮

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/18.jpg)

7、在metamask弹出窗口中，点击“approve”

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/19.jpg)

8、再点击“switch network”，到此完成网络配置的添加

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/20.jpg)

9、打开在浏览器metamask钱包，可以查看到网络已经显示为“binance smart chain mainnet”，下方代币符号已经变为BNB
※提醒：代币符号有时在切换网络后可能不会变更，此时不用管，知道它是对应网络的代币即可。
**二、手动添加自定义网络步骤：**
1、点击metamask钱包的网络配置位置，如下图

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/21.jpg)

2、点击“Add Network”（自定义RPC、添加网络等）

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/22.jpg)

3、在新窗口中，一次填写以上5个选项（从网络提供商处获取），填写完成后点“save”保存即可。

**切换网络配置**
使用不同区块链网络需要切换对应网络，配置完成后切换方法如下：

![](https://github.com/RCCCamp/openWeb3/blob/main/pic/6/23.jpg)

1、点击metamask上方的网络显示位置，会出现一个下拉列表
2、选择对应的网络名称即可
3、网络配置切换后，对应的代币符号也会变换
### 常见网络问题
**Q：关于主网和测试网的问题**
A：主网是我们真实代币的存储网络，这里发生的一切都是事实。测试网是虚构的网络，用于测试应用，这里的代币资产是虚拟的，是用于测试而分发的。一般可以通过水龙头领取测试代币。
**Q：网络配置是以太坊主网，但代币符号显示的是BNB（也有多种其他网络和代币不匹配的情况）**
A：这个metamask的显示问题，有时由于网络延迟，代币符号会未自动随网络配置切换。但这不影响使用，只是会影响交易费用的计算显示。用户自行在心里记得是哪个网络，就是哪个网络对应的基础代币即可。计算网络费时，也要在心里默默地切换一下。
**Q：交易发起很长时间依然没有执行**
A：对于以太坊主网的交易加速和取消，我们在后面交易章节单独讲。这里主要说下其他非以太坊主网的交易长时间卡主问题。这种情况大多数是由于RPC服务器拥堵所造成，用户可以在自定义网络配置中，替换对应网络的RPC服务器地址即可。地址清单可以到官网去查询。